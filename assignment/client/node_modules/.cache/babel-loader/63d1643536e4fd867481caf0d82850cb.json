{"ast":null,"code":"import axios from 'axios';\nimport { AUTH_SIGN_UP, AUTH_ERROR, AUTH_SIGN_OUT, AUTH_SIGN_IN, DASHBOARD_GET_DATA, PRODUCTS_GET_DATA } from './types';\nexport const signUp = data => {\n  return async dispatch => {\n    try {\n      console.log('ActionCreator SIGNUP CALLED');\n      const res = await axios.post('http://localhost:5000/users/signup', data); //console.log('res',res)\n\n      console.log('ActionCreator SIGNUP dispatched an action');\n      dispatch({\n        type: AUTH_SIGN_UP,\n        payload: res.data.token\n      });\n      localStorage.setItem('JWT_TOKEN', res.data.token);\n      axios.defaults.headers.common['Authorization'] = res.data.token;\n    } catch (err) {\n      dispatch({\n        type: AUTH_ERROR,\n        payload: 'Email used'\n      });\n      console.log('err', err);\n    }\n  };\n};\nexport const signOut = () => {\n  return dispatch => {\n    localStorage.removeItem('JWT_TOKEN');\n    axios.defaults.headers.common['Authorization'] = '';\n    dispatch({\n      type: AUTH_SIGN_OUT,\n      payload: ''\n    });\n  };\n};\nexport const signIn = data => {\n  return async dispatch => {\n    try {\n      console.log('ActionCreator SIGNUP CALLED');\n      const res = await axios.post('http://localhost:5000/users/signin', data); //console.log('res',res)\n\n      console.log('ActionCreator SIGNIN dispatched an action');\n      dispatch({\n        type: AUTH_SIGN_IN,\n        payload: res.data.token\n      });\n      localStorage.setItem('JWT_TOKEN', res.data.token);\n      axios.defaults.headers.common['Authorization'] = res.data.token;\n    } catch (err) {\n      dispatch({\n        type: AUTH_ERROR,\n        payload: 'Email and password error'\n      });\n      console.log('err', err);\n    }\n  };\n};\nexport const getSecret = () => {\n  return async dispatch => {\n    try {\n      console.log('[ActionCreator] trying get BE data');\n      const res = await axios.get('http://localhost:5000/users/secret');\n      console.log('res', res);\n      dispatch({\n        type: DASHBOARD_GET_DATA,\n        payload: res.data.secret\n      });\n    } catch (err) {\n      console.error('err', err);\n    }\n  };\n};\nexport const getproduct = () => {\n  return async dispatch => {\n    try {\n      console.log('[ActionCreator] try get data');\n      const res = await axios.get('http://localhost:5000/users/products');\n      console.log('res', res);\n      console.log('11111111111111111111111111111111111111111111111111');\n      console.log('res', res.data);\n      dispatch({\n        type: PRODUCTS_GET_DATA,\n        payload: res.data.products\n      });\n    } catch (err) {\n      console.error('err', err);\n    }\n  };\n};","map":{"version":3,"sources":["D:\\API\\test03 - Copy (2)\\client\\src\\actions\\index.js"],"names":["axios","AUTH_SIGN_UP","AUTH_ERROR","AUTH_SIGN_OUT","AUTH_SIGN_IN","DASHBOARD_GET_DATA","PRODUCTS_GET_DATA","signUp","data","dispatch","console","log","res","post","type","payload","token","localStorage","setItem","defaults","headers","common","err","signOut","removeItem","signIn","getSecret","get","secret","error","getproduct","products"],"mappings":"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","sourcesContent":["import axios from 'axios'\r\nimport { \r\n    AUTH_SIGN_UP, \r\n    AUTH_ERROR, \r\n    AUTH_SIGN_OUT, \r\n    AUTH_SIGN_IN,\r\n    DASHBOARD_GET_DATA,\r\nPRODUCTS_GET_DATA } from './types'\r\n\r\nexport const signUp = data => {\r\n    return async (dispatch) => {\r\n        try {\r\n            console.log('ActionCreator SIGNUP CALLED');\r\n            const res = await axios.post('http://localhost:5000/users/signup', data)\r\n            //console.log('res',res)\r\n            console.log('ActionCreator SIGNUP dispatched an action')\r\n            dispatch({\r\n                type: AUTH_SIGN_UP,\r\n                payload: res.data.token\r\n            });\r\n\r\n            localStorage.setItem('JWT_TOKEN', res.data.token);\r\n            axios.defaults.headers.common['Authorization'] = res.data.token;\r\n        }catch(err){\r\n            dispatch({\r\n                type: AUTH_ERROR,\r\n                payload: 'Email used'\r\n            })\r\n            console.log('err', err);\r\n        }\r\n    }\r\n}\r\n\r\nexport const signOut = () => {\r\n    return dispatch => {\r\n        localStorage.removeItem('JWT_TOKEN');\r\n        axios.defaults.headers.common['Authorization'] = '';\r\n        dispatch({\r\n            type: AUTH_SIGN_OUT,\r\n            payload: ''\r\n        })\r\n\r\n    }\r\n}\r\n\r\nexport const signIn = data => {\r\n    return async (dispatch) => {\r\n        try {\r\n            console.log('ActionCreator SIGNUP CALLED');\r\n            const res = await axios.post('http://localhost:5000/users/signin', data)\r\n            //console.log('res',res)\r\n            console.log('ActionCreator SIGNIN dispatched an action')\r\n            dispatch({\r\n                type: AUTH_SIGN_IN,\r\n                payload: res.data.token\r\n            });\r\n\r\n            localStorage.setItem('JWT_TOKEN', res.data.token);\r\n            axios.defaults.headers.common['Authorization'] = res.data.token;\r\n        }catch(err){\r\n            dispatch({\r\n                type: AUTH_ERROR,\r\n                payload: 'Email and password error'\r\n            })\r\n            console.log('err', err);\r\n        }\r\n    }\r\n}\r\n\r\nexport const getSecret = () => {\r\n    return async dispatch => {\r\n        try{\r\n            console.log('[ActionCreator] trying get BE data')\r\n            const res = await axios.get('http://localhost:5000/users/secret')\r\n            console.log('res',res)\r\n\r\n            dispatch({\r\n                type: DASHBOARD_GET_DATA,\r\n                payload: res.data.secret\r\n\r\n            })\r\n        } catch(err){\r\n            console.error('err', err)\r\n        }\r\n    }\r\n}\r\n\r\nexport const getproduct = () =>{\r\n    return async dispatch => {\r\n        try{\r\n            console.log('[ActionCreator] try get data')\r\n            const res = await axios.get('http://localhost:5000/users/products')\r\n            console.log('res',res)\r\n            console.log('11111111111111111111111111111111111111111111111111')\r\n            console.log('res',res.data)\r\n\r\n            dispatch({\r\n                type: PRODUCTS_GET_DATA,\r\n                payload: res.data.products\r\n            })\r\n        }catch(err){\r\n            console.error('err',err)\r\n        } \r\n    }\r\n}"]},"metadata":{},"sourceType":"module"}